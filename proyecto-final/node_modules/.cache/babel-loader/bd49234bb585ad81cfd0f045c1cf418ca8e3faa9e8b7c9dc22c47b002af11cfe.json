{"ast":null,"code":"import { intersectRay } from '../utils/intersectUtils.js';\nimport { IS_LEAF, OFFSET, COUNT, LEFT_NODE, RIGHT_NODE } from '../utils/nodeBufferUtils.js';\nimport { BufferStack } from '../utils/BufferStack.js';\nimport { intersectTris } from '../utils/iterationUtils.generated.js';\nimport '../utils/iterationUtils_indirect.generated.js';\n\n/******************************************************/\n/* This file is generated from \"raycast.template.js\". */\n/******************************************************/\n\nfunction raycast(bvh, root, side, ray, intersects) {\n  BufferStack.setBuffer(bvh._roots[root]);\n  _raycast(0, bvh, side, ray, intersects);\n  BufferStack.clearBuffer();\n}\nfunction _raycast(nodeIndex32, bvh, side, ray, intersects) {\n  const {\n    float32Array,\n    uint16Array,\n    uint32Array\n  } = BufferStack;\n  const nodeIndex16 = nodeIndex32 * 2;\n  const isLeaf = IS_LEAF(nodeIndex16, uint16Array);\n  if (isLeaf) {\n    const offset = OFFSET(nodeIndex32, uint32Array);\n    const count = COUNT(nodeIndex16, uint16Array);\n    intersectTris(bvh, side, ray, offset, count, intersects);\n  } else {\n    const leftIndex = LEFT_NODE(nodeIndex32);\n    if (intersectRay(leftIndex, float32Array, ray)) {\n      _raycast(leftIndex, bvh, side, ray, intersects);\n    }\n    const rightIndex = RIGHT_NODE(nodeIndex32, uint32Array);\n    if (intersectRay(rightIndex, float32Array, ray)) {\n      _raycast(rightIndex, bvh, side, ray, intersects);\n    }\n  }\n}\nexport { raycast };","map":{"version":3,"names":["intersectRay","IS_LEAF","OFFSET","COUNT","LEFT_NODE","RIGHT_NODE","BufferStack","intersectTris","raycast","bvh","root","side","ray","intersects","setBuffer","_roots","_raycast","clearBuffer","nodeIndex32","float32Array","uint16Array","uint32Array","nodeIndex16","isLeaf","offset","count","leftIndex","rightIndex"],"sources":["/home/jose/Escritorio/proyecto-final/node_modules/three-mesh-bvh/src/core/cast/raycast.generated.js"],"sourcesContent":["import { intersectRay } from '../utils/intersectUtils.js';\nimport { IS_LEAF, OFFSET, COUNT, LEFT_NODE, RIGHT_NODE } from '../utils/nodeBufferUtils.js';\nimport { BufferStack } from '../utils/BufferStack.js';\nimport { intersectTris } from '../utils/iterationUtils.generated.js';\nimport '../utils/iterationUtils_indirect.generated.js';\n\n/******************************************************/\n/* This file is generated from \"raycast.template.js\". */\n/******************************************************/\n\nfunction raycast( bvh, root, side, ray, intersects ) {\n\n\tBufferStack.setBuffer( bvh._roots[ root ] );\n\t_raycast( 0, bvh, side, ray, intersects );\n\tBufferStack.clearBuffer();\n\n}\n\nfunction _raycast( nodeIndex32, bvh, side, ray, intersects ) {\n\n\tconst { float32Array, uint16Array, uint32Array } = BufferStack;\n\tconst nodeIndex16 = nodeIndex32 * 2;\n\tconst isLeaf = IS_LEAF( nodeIndex16, uint16Array );\n\tif ( isLeaf ) {\n\n\t\tconst offset = OFFSET( nodeIndex32, uint32Array );\n\t\tconst count = COUNT( nodeIndex16, uint16Array );\n\n\n\t\tintersectTris( bvh, side, ray, offset, count, intersects );\n\n\n\t} else {\n\n\t\tconst leftIndex = LEFT_NODE( nodeIndex32 );\n\t\tif ( intersectRay( leftIndex, float32Array, ray ) ) {\n\n\t\t\t_raycast( leftIndex, bvh, side, ray, intersects );\n\n\t\t}\n\n\t\tconst rightIndex = RIGHT_NODE( nodeIndex32, uint32Array );\n\t\tif ( intersectRay( rightIndex, float32Array, ray ) ) {\n\n\t\t\t_raycast( rightIndex, bvh, side, ray, intersects );\n\n\t\t}\n\n\t}\n\n}\n\nexport { raycast };\n"],"mappings":"AAAA,SAASA,YAAY,QAAQ,4BAA4B;AACzD,SAASC,OAAO,EAAEC,MAAM,EAAEC,KAAK,EAAEC,SAAS,EAAEC,UAAU,QAAQ,6BAA6B;AAC3F,SAASC,WAAW,QAAQ,yBAAyB;AACrD,SAASC,aAAa,QAAQ,sCAAsC;AACpE,OAAO,+CAA+C;;AAEtD;AACA;AACA;;AAEA,SAASC,OAAOA,CAAEC,GAAG,EAAEC,IAAI,EAAEC,IAAI,EAAEC,GAAG,EAAEC,UAAU,EAAG;EAEpDP,WAAW,CAACQ,SAAS,CAAEL,GAAG,CAACM,MAAM,CAAEL,IAAI,CAAG,CAAC;EAC3CM,QAAQ,CAAE,CAAC,EAAEP,GAAG,EAAEE,IAAI,EAAEC,GAAG,EAAEC,UAAW,CAAC;EACzCP,WAAW,CAACW,WAAW,CAAC,CAAC;AAE1B;AAEA,SAASD,QAAQA,CAAEE,WAAW,EAAET,GAAG,EAAEE,IAAI,EAAEC,GAAG,EAAEC,UAAU,EAAG;EAE5D,MAAM;IAAEM,YAAY;IAAEC,WAAW;IAAEC;EAAY,CAAC,GAAGf,WAAW;EAC9D,MAAMgB,WAAW,GAAGJ,WAAW,GAAG,CAAC;EACnC,MAAMK,MAAM,GAAGtB,OAAO,CAAEqB,WAAW,EAAEF,WAAY,CAAC;EAClD,IAAKG,MAAM,EAAG;IAEb,MAAMC,MAAM,GAAGtB,MAAM,CAAEgB,WAAW,EAAEG,WAAY,CAAC;IACjD,MAAMI,KAAK,GAAGtB,KAAK,CAAEmB,WAAW,EAAEF,WAAY,CAAC;IAG/Cb,aAAa,CAAEE,GAAG,EAAEE,IAAI,EAAEC,GAAG,EAAEY,MAAM,EAAEC,KAAK,EAAEZ,UAAW,CAAC;EAG3D,CAAC,MAAM;IAEN,MAAMa,SAAS,GAAGtB,SAAS,CAAEc,WAAY,CAAC;IAC1C,IAAKlB,YAAY,CAAE0B,SAAS,EAAEP,YAAY,EAAEP,GAAI,CAAC,EAAG;MAEnDI,QAAQ,CAAEU,SAAS,EAAEjB,GAAG,EAAEE,IAAI,EAAEC,GAAG,EAAEC,UAAW,CAAC;IAElD;IAEA,MAAMc,UAAU,GAAGtB,UAAU,CAAEa,WAAW,EAAEG,WAAY,CAAC;IACzD,IAAKrB,YAAY,CAAE2B,UAAU,EAAER,YAAY,EAAEP,GAAI,CAAC,EAAG;MAEpDI,QAAQ,CAAEW,UAAU,EAAElB,GAAG,EAAEE,IAAI,EAAEC,GAAG,EAAEC,UAAW,CAAC;IAEnD;EAED;AAED;AAEA,SAASL,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}